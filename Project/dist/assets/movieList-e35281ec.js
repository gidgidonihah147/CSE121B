import{g,a as l,r as c,b as f,q as u}from"./style-df08de47.js";function d(t){return function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}}var m="title";function v(t){if(t.ok)return t.json();throw new Error("Bad Response")}class ${constructor(e){this.genre=e,this.path=`/src/public/json/${this.genre}.json`}getData(){return fetch(this.path).then(v).then(e=>e.sort(d(m)))}async findProductById(e){return(await this.getData()).find(n=>n.Title===e)}}function p(t){if(t.ok)return t.json();throw new Error("Bad Response")}function o(t){return function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}}function h(t){return`<li class='movie-card'><a href='/movie_pages/index.html?movie=${t.Title}'><img
    src='${t.Poster}'
    alt='Image of ${t.Title}'
    <h3 class='card__director'>${t.Director}</h3><h2 class='movie__name'>${t.Title}</h2><p >${t.Year}</p></a></li>
    
    `}var i="Title";class w{constructor(e,r,n){this.genre=e,this.dataSource=r,this.listElement=n,this.path=`../public/json/${this.genre}.json`}getData(){return fetch(this.path).then(p).then(e=>e.sort(o(i)))}async init(){const e=g(this.genre),r=await this.getData();this.renderLocalJson(e,r)}renderLocalJson(e,r){e==null?(l("There is no local storage - rendering from localJson"),r.sort(o(i)),c(h,this.listElement,r)):(l("Rendered from your browsers localstorage. Delete your localStorage to view the sample movies from localJson"),e.sort(o(i)),c(h,this.listElement,e))}}const a=f("genre");var T=new $(a),D=u(".product-list"),E=u(".title"),s=a.toString();s=s[0].toUpperCase()+s.slice(1);E.textContent=s;var j=new w(a,T,D);j.init();
